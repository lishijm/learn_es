#include "spi.h"
#include "gpio.h"
#include "lcd.h"

#include "string.h"

//发送命令到ST7735S显示控制芯片
void lcd_sendcmd(uint8_t cmd)
{
  //拉低RS引脚，发送的字节作为命令执行
  HAL_GPIO_WritePin(GPIOB, GPIO_PIN_4, GPIO_PIN_RESET);
  //发送一个字节的命令码
  HAL_SPI_Transmit(&hspi1, &cmd, 1, HAL_MAX_DELAY);
}

//发送数据到ST7735S显示控制芯片
void lcd_senddata(uint8_t data)
{
  //拉高RS引脚，发送的字节作为数据
  HAL_GPIO_WritePin(GPIOB, GPIO_PIN_4,GPIO_PIN_SET);
  //发送一个字节的数据
  HAL_SPI_Transmit(&hspi1, &data, 1, HAL_MAX_DELAY);
}

//LCD初始化
void lcd_init(void)
{
  //发送复位命令
  lcd_sendcmd(0x01);
  //等待复位完成120ms
  HAL_Delay(120);
  //关闭睡眠模式
  lcd_sendcmd(0x11);
  //等待自检完成
  HAL_Delay(120);
  //配置显存访问方式
  lcd_sendcmd(0x36);
  //Row Address Order:1
  //Column Address Order:1
  //Row/Column Exchange:0
  //Vertical Refresh Order: Top to Bottom(0)
  //RGB-BGR ORDER: BGR(1)
  //Horizontal Refresh Order:Left to right(0)
  lcd_senddata(0xc8);
  //设置像素颜色格式
  lcd_sendcmd(0x3a);
  //使用16bit颜色
  lcd_senddata(0x05);
  //显示显存中的内容
  lcd_sendcmd(0x29);
}

//设置显示区域
void lcd_region(uint8_t xbegin, uint8_t xend, uint8_t ybegin, uint8_t yend)
{
  //设置起始列和结束列
  lcd_sendcmd(0x2a);
  //起始列高字节
  lcd_senddata(0);
  //起始列低字节
  lcd_senddata(xbegin + 2);
  //结束列高字节
  lcd_senddata(0);
  //结束列低字节
  lcd_senddata(xend + 2);
  
  //设置起始行和结束行
  lcd_sendcmd(0x2b);
  //起始行高字节
  lcd_senddata(0);
  //起始行低字节
  lcd_senddata(ybegin + 3);
  //结束行高字节
  lcd_senddata(0);
  //结束行低字节
  lcd_senddata(yend + 3);
  
  //写显存
  lcd_sendcmd(0x2c);
}

//发送一个像素的颜色
void lcd_sendpixel(uint16_t color)
{
  //高字节先发送
  lcd_senddata(color >> 8);
  lcd_senddata(color & 0xff);
}

//将RGB888转为RGB565
uint16_t lcd_color(uint8_t red, uint8_t green, uint8_t blue)
{
  return ((red & 0xf8) << 11)|((green & 0xfc) << 5)|((blue & 0xf8) >> 3);
}

//清屏函数
void lcd_clear(uint16_t color)
{
  int i;
  //定位显存写入位置
  lcd_region(0, 127, 0, 127);
  for (i = 0; i < 128 * 128; i++)
  {
    lcd_sendpixel(color);
  }
}



//显示图片
//x: 起始列
//y: 起始行
//w: 图像宽度（像素）
//h: 图像高度（像素）
//image: 保存图像数据的数组
void lcd_drawimage(uint8_t x, uint8_t y, uint8_t w, uint8_t h, const uint16_t* image)
{
  int i;
  //定位显存写入位置
  lcd_region(x, x + w - 1, y, y + h - 1);
  for (i = 0; i < w * h; i++)
  {
    lcd_sendpixel(image[i]);
  }
}


//取模配置：
//1. 前景色用bit1表示，背景色用bit0表示（阴码）
//2. 低位在前
//显示字符
//x: 起始列
//y: 起始行
//fc: 前景色
//bc: 背景色
//font: 字模数组
void lcd_drawtext8x16(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, uint8_t* font)
{
  lcd_region(x, x + 8 - 1, y, y + 16 -1);
  
  //填充16行
  uint8_t j;
  for (j = 0; j < 16; j++)
  {
    //填充一行
    uint8_t i;
    for (i = 0; i < 8; i++)
    {
      if ((font[j] & (1 << i)) != 0)
      {
        //填充前景色
        lcd_sendpixel(fc);
      }
      else
      {
        //填充背景色
        lcd_sendpixel(bc);
      }
    }
  }
}

uint8_t lower[][16] = {
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x22,0x30,0x2C,0x22,0x32,0x6C,0x00,0x00},/*"a",0*/
  {0x00,0x00,0x00,0x00,0x03,0x02,0x02,0x1A,0x26,0x42,0x42,0x42,0x26,0x1A,0x00,0x00},/*"b",1*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x44,0x02,0x02,0x02,0x44,0x38,0x00,0x00},/*"c",2*/
  {0x00,0x00,0x00,0x00,0x60,0x40,0x40,0x7C,0x42,0x42,0x42,0x42,0x62,0xDC,0x00,0x00},/*"d",3*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x42,0x42,0x7E,0x02,0x42,0x3C,0x00,0x00},/*"e",4*/
  {0x00,0x00,0x00,0x00,0x30,0x48,0x08,0x3E,0x08,0x08,0x08,0x08,0x08,0x3E,0x00,0x00},/*"f",5*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x22,0x22,0x1C,0x02,0x3C,0x42,0x42,0x3C},/*"g",6*/
  {0x00,0x00,0x00,0x00,0x03,0x02,0x02,0x3A,0x46,0x42,0x42,0x42,0x42,0xE7,0x00,0x00},/*"h",7*/
  {0x00,0x00,0x00,0x0C,0x0C,0x00,0x00,0x0E,0x08,0x08,0x08,0x08,0x08,0x3E,0x00,0x00},/*"i",8*/
  {0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x38,0x20,0x20,0x20,0x20,0x20,0x20,0x22,0x1E},/*"j",9*/
  {0x00,0x00,0x00,0x00,0x03,0x02,0x02,0x72,0x12,0x0A,0x0E,0x12,0x22,0x77,0x00,0x00},/*"k",10*/
  {0x00,0x00,0x00,0x08,0x0E,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x3E,0x00,0x00},/*"l",11*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x92,0x92,0x92,0x92,0x92,0xB7,0x00,0x00},/*"m",12*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3B,0x46,0x42,0x42,0x42,0x42,0xE7,0x00,0x00},/*"n",13*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3C,0x42,0x42,0x42,0x42,0x42,0x3C,0x00,0x00},/*"o",14*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1B,0x26,0x42,0x42,0x42,0x26,0x1A,0x02,0x07},/*"p",15*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x58,0x64,0x42,0x42,0x42,0x64,0x58,0x40,0xE0},/*"q",16*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0x4C,0x04,0x04,0x04,0x04,0x1F,0x00,0x00},/*"r",17*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7C,0x42,0x02,0x3C,0x40,0x42,0x3E,0x00,0x00},/*"s",18*/
  {0x00,0x00,0x00,0x00,0x00,0x08,0x08,0x3E,0x08,0x08,0x08,0x08,0x48,0x30,0x00,0x00},/*"t",19*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x63,0x42,0x42,0x42,0x42,0x62,0xDC,0x00,0x00},/*"u",20*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0x22,0x22,0x14,0x14,0x08,0x08,0x00,0x00},/*"v",21*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xDB,0x91,0x52,0x5A,0x2A,0x24,0x24,0x00,0x00},/*"w",22*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x6E,0x24,0x18,0x18,0x18,0x24,0x76,0x00,0x00},/*"x",23*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE7,0x42,0x24,0x24,0x18,0x18,0x08,0x08,0x06},/*"y",24*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7E,0x22,0x10,0x08,0x08,0x44,0x7E,0x00,0x00},/*"z",25*/
};


void lcd_drawtextlower(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, char ch)
{
  if (ch < 'a' || ch > 'z')
  {
    return;
  }
  
  lcd_drawtext8x16(x, y, fc, bc, lower[ch - 'a']);
}

void lcd_drawstringlower(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, char* s)
{
  //判断字符串是否结束
  while(*s != 0)
  {
    lcd_drawtext8x16(x, y, fc, bc, lower[*s - 'a']);
    s++;    //字符指针加1
    x += 8; //横坐标右移8个像素
  }
}

uint8_t name[][32] = {
  {0x00,0x00,0xFE,0x3F,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0xFC,0x1F,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0xFF,0x7F,0x00,0x00},/*"王",0*/
  {0x08,0x00,0x88,0x1F,0x08,0x08,0x08,0x04,0x3F,0x02,0x08,0x01,0x8C,0x7F,0x1C,0x49,0x2A,0x49,0x2A,0x49,0x89,0x48,0x88,0x44,0x48,0x44,0x28,0x42,0x08,0x29,0x88,0x10}};/*"杨",1*/

uint8_t wenshidu[][32] = {{0x00,0x00,0xC4,0x1F,0x48,0x10,0x48,0x10,0xC1,0x1F,0x42,0x10,0x42,0x10,0xC8,0x1F,0x08,0x00,0xE4,0x3F,0x27,0x25,0x24,0x25,0x24,0x25,0x24,0x25,0xF4,0x7F,0x00,0x00},/*"温",0*/
{0x00,0x00,0xE4,0x1F,0x28,0x10,0x28,0x10,0xE1,0x1F,0x22,0x10,0x22,0x10,0xE8,0x1F,0x88,0x04,0x84,0x04,0x97,0x24,0xA4,0x14,0xC4,0x0C,0x84,0x04,0xF4,0x7F,0x00,0x00},/*"湿",1*/
{0x80,0x00,0x00,0x01,0xFC,0x7F,0x44,0x04,0x44,0x04,0xFC,0x3F,0x44,0x04,0x44,0x04,0xC4,0x07,0x04,0x00,0xF4,0x0F,0x24,0x08,0x42,0x04,0x82,0x03,0x61,0x0C,0x1C,0x70},/*"度",2*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x00,0x0C,0x00,0x00,0x00,0x0C,0x00,0x0C,0x00,0x00,0x00,0x00,0x00}/*"：",3*/};

    
 uint8_t huo[32] = {0x80,0x00,0x80,0x00,0x80,0x00,0x88,0x10,0x88,0x10,0x88,0x08,0x84,0x04,0x84,0x00,0x42,0x01,0x40,0x01,0x20,0x02,0x20,0x02,0x10,0x04,0x08,0x08,0x04,0x10,0x03,0x60};/*"火",0*/

//显示中文字符
//x: 起始列
//y: 起始行
//fc: 前景色
//bc: 背景色
//font: 字模数组
void lcd_drawtext16x16(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, uint8_t* font)
{
  lcd_region(x, x + 16 - 1, y, y + 16 -1);

  uint8_t j;
  for (j = 0; j < 16*2; j++)
  {
    uint8_t i;
    for (i = 0; i < 8; i++)
    {
      if ((font[j] & (1 << i)) != 0)
      {
        //填充前景色
        lcd_sendpixel(fc);
      }
      else
      {
        //填充背景色
        lcd_sendpixel(bc);
      }
    }
  }
}


uint8_t ni1[4][32] = 
{{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x0E,0x06,0x00,0x00,0x06,0x07,0x00,0x00,0x07,0x03,0x00,0x00,0x03,0x03,0x00,0x00,0x83,0x01,0x00},
{0x80,0x81,0x01,0x18,0x80,0xC0,0xFF,0x3F,0xC0,0xC0,0x00,0x18,0xC0,0x61,0x08,0x0C,0xE0,0x21,0x30,0x04,0xB0,0x31,0x10,0x02,0x90,0x11,0x10,0x00,0x88,0x09,0x10,0x00},
{0x88,0x81,0x11,0x00,0x84,0xC1,0x11,0x01,0x80,0xC1,0x10,0x02,0x80,0xC1,0x10,0x04,0x80,0x61,0x10,0x0C,0x80,0x61,0x10,0x18,0x80,0x31,0x10,0x38,0x80,0x11,0x10,0x30},
{0x80,0x09,0x10,0x30,0x80,0x09,0x10,0x30,0x80,0x05,0x10,0x00,0x80,0x01,0x10,0x00,0x80,0x01,0x1F,0x00,0x80,0x01,0x1C,0x00,0x80,0x00,0x08,0x00,0x00,0x00,0x00,0x00}};/*"你",0*/



void lcd_drawtext32x32(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, uint8_t* font)
{
  lcd_region(x, x + 32 - 1, y, y + 32 -1);

  uint8_t j;
  for (j = 0; j < 32*4; j++)
  {
    uint8_t i;
    for (i = 0; i < 8; i++)
    {
      if ((font[j] & (1 << i)) != 0)
      {
        //填充前景色
        lcd_sendpixel(fc);
      }
      else
      {
        //填充背景色
        lcd_sendpixel(bc);
      }
    }
  }
}


void lcd_drawname(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
  lcd_drawtext16x16(x, y, fc, bc, name[0]);
  lcd_drawtext16x16(x + 16, y, fc, bc, name[1]);
}

uint8_t ni[] = {0x10,0x01,0x10,0x01,0x10,0x01,0x88,0x7F,0x88,0x40,0x4C,0x20,0x2C,0x04,0x0A,0x04,0x89,0x14,0x88,0x24,0x48,0x24,0x48,0x44,0x28,0x44,0x08,0x04,0x08,0x05,0x08,0x02};/*"你",0*/


uint8_t fu[][32] = {
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0xF0,0x07,0x80,0xFF,0xFF,0x1F,0x00,0x00,0xF8,0x7F,0xC0,0xFF,0xFF,0xFF,0x07,0x00,0xF8,0xFF,0xE3,0xFF,0xFF,0xFF,0x07,0x00,0xF8,0xFF,0xF3,0xFF,0xFF,0xFF,0x07},
  {0x00,0x00,0xFC,0x70,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1E,0x10,0x0C,0x00,0x00,0x00,0x80,0x00,0xFF,0xFF,0x1F,0x00},
  {0x00,0x38,0xE0,0x03,0xFF,0xFF,0x3F,0x00,0x00,0xFC,0xFF,0x07,0x7F,0x80,0x3F,0x00,0x00,0xFE,0xFF,0x07,0x1F,0x00,0x1F,0x00,0x00,0xFF,0xFF,0x07,0x1E,0x00,0x1E,0x00},
  {0x00,0x0F,0xE0,0x03,0x1E,0x00,0x1F,0x00,0x00,0x00,0xF0,0x03,0xBE,0xFF,0x1F,0x00,0x00,0x00,0xF8,0x01,0xFE,0xFF,0x1F,0x00,0x00,0x00,0xFC,0x01,0xFE,0xFF,0x1F,0x00},
  {0x00,0x00,0xFE,0x01,0x3C,0x80,0x0F,0x00,0x00,0x00,0xFF,0x03,0x00,0x00,0x00,0x00,0x00,0x80,0xFF,0xC7,0xE1,0x07,0xC0,0x00,0x00,0xE0,0xFF,0xCF,0xFF,0xFF,0xFF,0x01},
  {0x00,0xF8,0xFF,0xDF,0xFF,0xFF,0xFF,0x07,0x00,0xFC,0x7F,0xFE,0x07,0xFF,0xFF,0x07,0x80,0xFF,0x7D,0xC0,0x03,0x3E,0xF0,0x07,0xF0,0xFF,0x7C,0xC0,0x03,0x1E,0xE0,0x07},
  {0xFE,0x3F,0x7C,0xC0,0x03,0x1E,0xE0,0x03,0xFC,0x1F,0x7C,0xC0,0x87,0x3F,0xF0,0x03,0xF8,0x0F,0x7C,0xC0,0xFF,0xFF,0xFF,0x03,0xF0,0x03,0x7C,0xC0,0xFF,0xFF,0xFF,0x03},
  {0x00,0x00,0x7C,0xC0,0x0F,0x3F,0xE0,0x03,0x00,0x00,0x7C,0xC0,0x07,0x1E,0xE0,0x01,0x00,0x00,0xFC,0xC0,0x07,0x1E,0xE0,0x01,0x00,0x00,0xFC,0xC0,0x07,0x1E,0xE0,0x01},
  {0x00,0x00,0xFC,0xC0,0xC7,0xFF,0xFF,0x01,0x00,0x00,0xFC,0xC0,0xFF,0xFF,0xFF,0x01,0x00,0x00,0xFC,0xC0,0xFF,0xFF,0xFF,0x03,0x00,0x00,0xFC,0xC0,0xFF,0xFF,0xFF,0x01},
  {0x00,0x00,0x78,0x80,0x07,0x00,0xFC,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"福",0*/
};

void lcd_draw64x64(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, uint8_t* font)
{
  lcd_region(x, x + 64 - 1, y, y + 64 -1);

  //注意循环变量取值范围
  uint16_t j;
  for (j = 0; j < 64*8; j++)
  {
    uint8_t i;
    for (i = 0; i < 8; i++)
    {
      if ((font[j] & (1 << i)) != 0)
      {
        //填充前景色
        lcd_sendpixel(fc);
      }
      else
      {
        //填充背景色
        lcd_sendpixel(bc);
      }
    }
  }
}

void lcd_drawfu(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
  lcd_draw64x64(x, y, fc, bc, (uint8_t*)fu);
}

uint8_t wen[][32] = {
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x10,0x00,0x01,0x60,0xF0,0xFF,0x03,0xC0,0x30,0x00,0x01,0xC0,0x30,0x00,0x01,0x00,0x34,0x00,0x01},
  {0x00,0x32,0x00,0x01,0x00,0xF2,0xFF,0x01,0x00,0x32,0x00,0x01,0x0C,0x32,0x00,0x01,0x18,0x31,0x00,0x01,0x30,0x31,0x00,0x01,0x10,0xF1,0xFF,0x01,0x80,0x30,0x00,0x01},
  {0x80,0x10,0x00,0x00,0x80,0x00,0x00,0x00,0xC0,0x04,0x00,0x04,0x40,0xFC,0xFF,0x0F,0x40,0x8C,0x31,0x06,0x60,0x8C,0x31,0x06,0x7C,0x8C,0x31,0x06,0x70,0x8C,0x31,0x06},
  {0x30,0x8C,0x31,0x06,0x30,0x8C,0x31,0x06,0x30,0x8C,0x31,0x06,0x30,0x8C,0x31,0x06,0x30,0x8C,0x31,0x36,0xB0,0xFF,0xFF,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"温",0*/
};

uint8_t shi[][32] = {
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x00,0x00,0x60,0xF0,0xFF,0x07,0xE0,0x30,0x00,0x06,0xC0,0x30,0x00,0x06,0xC0,0x30,0x00,0x06},
  {0x00,0x34,0x00,0x06,0x00,0xF2,0xFF,0x07,0x06,0x32,0x00,0x06,0x0C,0x32,0x00,0x06,0x38,0x31,0x00,0x06,0x30,0x31,0x00,0x06,0x30,0xF1,0xFF,0x07,0x80,0x30,0x21,0x06},
  {0x80,0x10,0x63,0x00,0xC0,0x00,0x63,0x00,0x40,0x00,0x63,0x18,0x60,0x04,0x63,0x38,0x60,0x08,0x63,0x0C,0x3E,0x18,0x63,0x06,0x30,0x30,0x63,0x02,0x30,0x30,0x63,0x01},
  {0x30,0x30,0xE3,0x00,0x30,0x20,0x63,0x00,0x38,0x00,0x63,0x00,0x38,0x00,0x63,0x00,0x38,0x00,0x63,0x10,0x30,0xFF,0xFF,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"湿",1*/
};

uint8_t du[][32] = {
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x07,0x08,0x20,0x00,0x02,0x1C,0xE0,0xFF,0xFF,0x3F,0x60,0x20,0x20,0x00},
  {0x60,0xE0,0xE0,0x00,0x60,0x60,0x60,0x00,0x60,0x60,0x60,0x0C,0xE0,0xFF,0xFF,0x1F,0x60,0x60,0x60,0x00,0x60,0x60,0x60,0x00,0x60,0x60,0x60,0x00,0x60,0x60,0x60,0x00},
  {0x60,0xE0,0x7F,0x00,0x60,0x60,0x60,0x00,0x20,0x00,0x80,0x00,0x20,0xFC,0xFF,0x01,0x30,0x20,0xC0,0x01,0x30,0x40,0xE0,0x00,0x30,0xC0,0x60,0x00,0x10,0x80,0x30,0x00},
  {0x10,0x00,0x1B,0x00,0x18,0x00,0x0E,0x00,0x08,0x00,0x1F,0x00,0x08,0xC0,0x79,0x00,0x04,0x70,0xE0,0x1F,0x04,0x0E,0x00,0x1F,0xE2,0x01,0x00,0x08,0x00,0x00,0x00,0x00},/*"度",2*/
};

void lcd_drawni(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
  lcd_drawtext16x16(x, y, fc, bc, wen[0]);
}


//显示字符
//x: 起始列
//y: 起始行
//w: 字符宽度
//h: 字符高度
//fc: 前景色
//bc: 背景色
//font: 字模数组
void lcd_drawtext(uint8_t x, uint8_t y, uint8_t w, uint8_t h, uint16_t fc, uint16_t bc, uint8_t* font)
{
  lcd_region(x, x + w - 1, y, y + h -1);

  //注意循环变量取值范围
  uint16_t j;
  for (j = 0; j < w*h/8; j++)
  {
    uint8_t i;
    for (i = 0; i < 8; i++)
    {
      if ((font[j] & (1 << i)) != 0)
      {
        //填充前景色
        lcd_sendpixel(fc);
      }
      else
      {
        //填充背景色
        lcd_sendpixel(bc);
      }
    }
  }
}


uint8_t mid[] = {0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0xFC,0x1F,0x84,0x10,0x84,0x10,0x84,0x10,0x84,0x10,0x84,0x10,0xFC,0x1F,0x84,0x10,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00};/*"中",0*/


/*"温",0*/

void lcd_drawmid(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
	lcd_drawtext(50, 50, 32, 32,fc, bc, mid);
}

void lcd_drawup(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
}


void lcd_drawdown(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
}

void lcd_drawleft(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
}


void lcd_drawright(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
}


uint8_t wen1[][32] = {
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x00,0x00,0x00,0x0E,0x06,0x00,0x00,0x06,0x07,0x00,0x00,0x07,0x03,0x00,0x00,0x03,0x03,0x00,0x00,0x83,0x01,0x00},
{0x80,0x81,0x01,0x18,0x80,0xC0,0xFF,0x3F,0xC0,0xC0,0x00,0x18,0xC0,0x61,0x08,0x0C,0xE0,0x21,0x30,0x04,0xB0,0x31,0x10,0x02,0x90,0x11,0x10,0x00,0x88,0x09,0x10,0x00},
{0x88,0x81,0x11,0x00,0x84,0xC1,0x11,0x01,0x80,0xC1,0x10,0x02,0x80,0xC1,0x10,0x04,0x80,0x61,0x10,0x0C,0x80,0x61,0x10,0x18,0x80,0x31,0x10,0x38,0x80,0x11,0x10,0x30},
{0x80,0x09,0x10,0x30,0x80,0x09,0x10,0x30,0x80,0x05,0x10,0x00,0x80,0x01,0x10,0x00,0x80,0x01,0x1F,0x00,0x80,0x01,0x1C,0x00,0x80,0x00,0x08,0x00,0x00,0x00,0x00,0x00}};/*"你",0*/

	
	

void lcd_drawwendu(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc)
{
  lcd_drawtext(x, y, 32, 32, fc, bc, (uint8_t*)wen1);
  //lcd_drawtext(x + 32, y, 32, 32, fc, bc, (uint8_t*)du);
}

uint8_t num16x32[][64] = {
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x03,0x60,0x04,0x30,0x0C,0x18,0x18,0x18,0x18,0x18,0x10,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x18,0x10,0x18,0x18,0x18,0x18,0x30,0x0C,0x60,0x04,0xC0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"0",0*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x80,0x01,0xF8,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0x80,0x01,0xC0,0x03,0xF8,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"1",1*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x07,0x10,0x1C,0x08,0x18,0x04,0x30,0x04,0x30,0x0C,0x30,0x0C,0x30,0x00,0x30,0x00,0x18,0x00,0x18,0x00,0x0C,0x00,0x06,0x00,0x03,0x80,0x01,0xC0,0x00,0x40,0x00,0x20,0x20,0x10,0x20,0x08,0x20,0x04,0x30,0xFC,0x1F,0xFC,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"2",2*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x03,0x18,0x06,0x0C,0x0C,0x0C,0x18,0x0C,0x18,0x0C,0x18,0x00,0x18,0x00,0x18,0x00,0x0C,0x00,0x06,0xC0,0x03,0x00,0x0E,0x00,0x18,0x00,0x10,0x00,0x30,0x00,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x10,0x0C,0x18,0x18,0x0C,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"3",3*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x06,0x00,0x06,0x00,0x07,0x00,0x07,0x80,0x06,0x80,0x06,0x40,0x06,0x20,0x06,0x20,0x06,0x10,0x06,0x10,0x06,0x08,0x06,0x0C,0x06,0x04,0x06,0x02,0x06,0xFE,0x3F,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0x00,0x06,0xC0,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"4",4*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0x3F,0xF0,0x3F,0x08,0x00,0x08,0x00,0x08,0x00,0x08,0x00,0x08,0x00,0x08,0x00,0xC8,0x07,0x28,0x0C,0x18,0x18,0x08,0x10,0x00,0x30,0x00,0x30,0x00,0x30,0x00,0x30,0x0C,0x30,0x0C,0x30,0x04,0x18,0x04,0x18,0x18,0x0C,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"5",5*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x07,0x60,0x18,0x30,0x18,0x10,0x18,0x18,0x00,0x08,0x00,0x08,0x00,0x0C,0x00,0xCC,0x07,0x6C,0x0C,0x1C,0x18,0x1C,0x10,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x18,0x30,0x18,0x10,0x30,0x18,0x70,0x0C,0xC0,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"6",6*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x3F,0xF8,0x3F,0x08,0x10,0x0C,0x08,0x04,0x08,0x04,0x04,0x00,0x04,0x00,0x02,0x00,0x02,0x00,0x02,0x00,0x01,0x00,0x01,0x80,0x00,0x80,0x00,0x80,0x00,0x80,0x00,0xC0,0x00,0xC0,0x00,0xC0,0x00,0xC0,0x00,0xC0,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"7",7*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x07,0x30,0x0C,0x18,0x18,0x0C,0x30,0x0C,0x30,0x0C,0x30,0x1C,0x30,0x1C,0x10,0x78,0x18,0xF0,0x04,0xE0,0x03,0x18,0x0F,0x0C,0x1E,0x0C,0x1C,0x06,0x38,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x0C,0x18,0x18,0x0C,0xE0,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"8",8*/
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x03,0x18,0x04,0x0C,0x08,0x0C,0x18,0x06,0x10,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x06,0x30,0x0E,0x38,0x0C,0x34,0x18,0x36,0xF0,0x31,0x00,0x30,0x00,0x18,0x00,0x18,0x00,0x08,0x0C,0x0C,0x0C,0x06,0x0C,0x03,0xF0,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00},/*"9",9*/
};

void lcd_drawnum(uint8_t x, uint8_t y, uint16_t fc, uint16_t bc, uint8_t num)
{
  if (num > 9)
  {
    return;
  }
  
  lcd_drawtext(x, y, 16, 32, fc, bc, num16x32[num]);
}

//画点
void lcd_drawpoint(uint8_t x, uint8_t y, uint16_t color)
{
  lcd_region(x, x + 1, y, y + 1);
  lcd_sendpixel(color);
}


